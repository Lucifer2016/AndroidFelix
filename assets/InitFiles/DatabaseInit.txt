PRAGMA foreign_keys = ON;

CREATE TABLE `App` (
	`id`	INTEGER PRIMARY KEY AUTOINCREMENT,
	`Name`	TEXT UNIQUE NOT NULL
);

CREATE TABLE `Bundle` (
	`id`	INTEGER PRIMARY KEY AUTOINCREMENT,
	`Name`	TEXT UNIQUE,
	`Location`	TEXT NOT NULL
);

CREATE TABLE `Dependency` (
	`id`	INTEGER PRIMARY KEY AUTOINCREMENT,
	`AppId`	INTEGER,
	`BundleId`	INTEGER,
	FOREIGN KEY('AppId') REFERENCES App('id')
	FOREIGN KEY('BundleId') REFERENCES Bundle('id')
);

CREATE TABLE `File` (
	`id`	INTEGER PRIMARY KEY AUTOINCREMENT,
	`Bundle`  TEXT,
	`FileName`  TEXT,
	FOREIGN KEY('Bundle') REFERENCES Bundle('Name')
);
